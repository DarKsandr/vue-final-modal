{"version":3,"file":"VueFinalModal.esm.js","sources":["../lib/modalStack.js","../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","../lib/VueFinalModal.vue","../node_modules/style-inject/dist/style-inject.es.js","../lib/index.js"],"sourcesContent":["export default []","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  } else {\n    setOverflowHidden(options);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  } else if (!locks.length) {\n    restoreOverflowSetting();\n  }\n};\n\n","<template>\n  <div\n    ref=\"root\"\n    v-if=\"ssr || visible\"\n    v-show=\"!ssr || visible\"\n    :style=\"{ zIndex: calculateZIndex }\"\n    class=\"vfm vfm--inset\"\n    :class=\"[\n      attach === false ? 'vfm--fixed' : 'vfm--absolute',\n      { 'vfm--prevent-none': preventClick }\n    ]\"\n  >\n    <transition\n      :name=\"overlayTransition\"\n      @before-enter=\"beforeOverlayEnter\"\n      @after-enter=\"afterOverlayEnter\"\n      @before-leave=\"beforeOverlayLeave\"\n      @after-leave=\"afterOverlayLeave\"\n    >\n      <div\n        v-show=\"!hideOverlay && visibility.overlay\"\n        class=\"vfm__overlay vfm--overlay vfm--absolute vfm--inset\"\n        :class=\"overlayClass\"\n      ></div>\n    </transition>\n    <transition\n      :name=\"transition\"\n      @before-enter=\"beforeModalEnter\"\n      @after-enter=\"afterModalEnter\"\n      @before-leave=\"beforeModalLeave\"\n      @after-leave=\"afterModalLeave\"\n    >\n      <div\n        v-show=\"visibility.modal\"\n        class=\"vfm__container vfm--absolute vfm--inset\"\n        :class=\"[classes, { 'vfm--cursor-pointer': clickToClose }]\"\n        @click=\"clickToClose && $emit('update:modelValue', false)\"\n      >\n        <slot name=\"content-before\" />\n        <slot name=\"content\">\n          <div\n            ref=\"vfmContent\"\n            body-scroll-lock-ignore\n            class=\"vfm__content vfm--cursor-auto\"\n            :class=\"[contentClass, { 'vfm--prevent-auto': preventClick }]\"\n            @click.stop\n          >\n            <slot />\n          </div>\n        </slot>\n        <slot name=\"content-after\" />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script setup=\"props, { emit }\">\nimport modalStack from './modalStack'\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock'\nimport {\n  ref,\n  reactive,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n  nextTick,\n  watch\n} from 'vue'\n\nconst TransitionState = {\n  Enter: 'enter',\n  Entering: 'entering',\n  Leave: 'leave',\n  Leaving: 'leavng'\n}\n\nexport default {\n  name: 'VueFinalModal',\n  props: {\n    modelValue: { type: Boolean, default: false },\n    ssr: { type: Boolean, default: true },\n    classes: { type: [String, Object, Array], default: '' },\n    overlayClass: { type: [String, Object, Array], default: '' },\n    contentClass: { type: [String, Object, Array], default: '' },\n    lockScroll: { type: Boolean, default: true },\n    hideOverlay: { type: Boolean, default: false },\n    clickToClose: { type: Boolean, default: true },\n    preventClick: { type: Boolean, default: false },\n    attach: {\n      type: null,\n      default: false,\n      validator(val) {\n        const type = typeof val\n\n        if (type === 'boolean' || type === 'string') return true\n\n        return val.nodeType === Node.ELEMENT_NODE\n      }\n    },\n    transition: { type: String, default: 'vfm' },\n    overlayTransition: { type: String, default: 'vfm' },\n    zIndexBase: { type: [String, Number], default: 1000 },\n    zIndex: { type: [Boolean, String, Number], default: false }\n  },\n  emits: [\n    'update:modelValue',\n    'before-open',\n    'opened',\n    'before-close',\n    'closed'\n  ]\n}\n\nconst uid = Symbol('vfm')\nexport const root = ref(null)\nexport const vfmContent = ref(null)\n\nconst modalStackIndex = ref(null)\n\nexport const visible = ref(false)\nexport const visibility = reactive({\n  modal: false,\n  overlay: false\n})\nconst overlayTransitionState = ref(null)\nconst modalTransitionState = ref(null)\n\nconst isComponentReadyToBeDestroyed = computed(() => {\n  return (\n    (props.hideOverlay ||\n      overlayTransitionState.value === TransitionState.Leave) &&\n    modalTransitionState.value === TransitionState.Leave\n  )\n})\n\nexport const calculateZIndex = computed(() => {\n  if (typeof props.zIndex === 'boolean') {\n    if (props.attach) {\n      return 'unset'\n    } else {\n      return props.zIndexBase + 2 * (modalStackIndex.value || 0)\n    }\n  } else {\n    return props.zIndex\n  }\n})\n\nwatch(\n  () => props.modelValue,\n  value => {\n    mounted()\n    if (!value) {\n      close()\n    }\n  }\n)\nwatch(() => props.lockScroll, handleLockScroll)\nwatch(\n  () => props.hideOverlay,\n  value => {\n    if (props.modelValue && !value) {\n      visibility.overlay = true\n    }\n  }\n)\nwatch(() => props.attach, mounted)\nwatch(\n  isComponentReadyToBeDestroyed,\n  val => {\n    if (val) {\n      visible.value = false\n    }\n  },\n  {\n    flush: 'post'\n  }\n)\n\nonMounted(() => {\n  mounted()\n})\nonBeforeUnmount(() => {\n  close()\n  root.value.remove()\n})\n\nfunction mounted() {\n  if (props.modelValue) {\n    let target = getAttachElement()\n    if (target || props.attach === false) {\n      props.attach !== false && target.appendChild(root.value)\n      let index = modalStack.findIndex(vm => vm.uid === uid)\n      if (index !== -1) {\n        // if this is already exist in modalStack, delete it\n        modalStack.splice(index, 1)\n      }\n      modalStack.push({\n        uid,\n        getAttachElement,\n        modalStackIndex,\n        visibility,\n        handleLockScroll,\n        hideOverlay: props.hideOverlay\n      })\n      modalStackIndex.value = modalStack.length - 1\n\n      handleLockScroll()\n\n      modalStack\n        .filter(vm => vm.uid !== uid)\n        .forEach((vm, index) => {\n          if (vm.getAttachElement() === target) {\n            // if vm and this have the same attach element\n            vm.modalStackIndex.value = index\n            vm.visibility.overlay = false\n          }\n        })\n\n      visible.value = true\n      nextTick(() => {\n        startTransitionEnter()\n      })\n    } else if (target !== false) {\n      console.warn('Unable to locate target '.concat(props.attach))\n    }\n  } else {\n    props.lockScroll && enableBodyScroll(vfmContent.value)\n  }\n}\nfunction close() {\n  let index = modalStack.findIndex(vm => vm.uid === uid)\n  if (index !== -1) {\n    // remove this in modalStack\n    modalStack.splice(index, 1)\n  }\n  if (modalStack.length > 0) {\n    // If there are still nested modals opened\n    const $_vm = modalStack[modalStack.length - 1]\n    $_vm.handleLockScroll()\n    !$_vm.hideOverlay && ($_vm.visibility.overlay = true)\n  } else {\n    // If the closed modal is the last one\n    props.lockScroll && enableBodyScroll(vfmContent.value)\n  }\n  startTransitionLeave()\n}\nfunction handleLockScroll() {\n  props.lockScroll\n    ? disableBodyScroll(vfmContent.value, {\n        allowTouchMove: el => {\n          while (el && el !== document.body) {\n            if (el.getAttribute('body-scroll-lock-ignore') !== null) {\n              return true\n            }\n            el = el.parentElement\n          }\n        }\n      })\n    : enableBodyScroll(vfmContent.value)\n}\nfunction getAttachElement() {\n  let target\n  if (props.attach === false) {\n    target = false\n  } else if (typeof props.attach === 'string') {\n    // CSS selector\n    if (window) {\n      target = window.document.querySelector(props.attach)\n    } else {\n      target = false\n    }\n  } else {\n    // DOM Element\n    target = props.attach\n  }\n  return target\n}\nfunction startTransitionEnter() {\n  visibility.overlay = true\n  visibility.modal = true\n}\nfunction startTransitionLeave() {\n  visibility.overlay = false\n  visibility.modal = false\n}\n\nexport function beforeOverlayEnter() {\n  overlayTransitionState.value = TransitionState.Entering\n}\nexport function afterOverlayEnter() {\n  overlayTransitionState.value = TransitionState.Enter\n}\nexport function beforeOverlayLeave() {\n  overlayTransitionState.value = TransitionState.Leaving\n}\nexport function afterOverlayLeave() {\n  overlayTransitionState.value = TransitionState.Leave\n}\nexport function beforeModalEnter() {\n  emit('before-open')\n  modalTransitionState.value = TransitionState.Entering\n}\nexport function afterModalEnter() {\n  modalTransitionState.value = TransitionState.Enter\n  emit('opened')\n}\nexport function beforeModalLeave() {\n  emit('before-close')\n  modalTransitionState.value = TransitionState.Leaving\n}\nexport function afterModalLeave() {\n  modalTransitionState.value = TransitionState.Leave\n  modalStackIndex.value = null\n  emit('closed')\n}\n</script>\n\n<style lang=\"css\" scoped>\n.vfm--fixed {\n  position: fixed;\n}\n.vfm--absolute {\n  position: absolute;\n}\n.vfm--inset {\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.vfm--overlay {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.vfm--prevent-none {\n  pointer-events: none;\n}\n.vfm--prevent-auto {\n  pointer-events: auto;\n}\n.vfm--cursor-pointer {\n  cursor: pointer;\n}\n.vfm--cursor-auto {\n  cursor: auto;\n}\n.vfm-enter-active,\n.vfm-leave-active {\n  transition: opacity 0.2s;\n}\n.vfm-enter-from,\n.vfm-leave-to {\n  opacity: 0;\n}\n</style>\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import modal from './VueFinalModal.vue'\n\nexport const VueFinalModal = modal\n\n"],"names":["hasPassiveEvents","window","passiveTestOptions","addEventListener","removeEventListener","isIosDevice","navigator","platform","test","maxTouchPoints","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","el","some","lock","options","preventDefault","rawEvent","e","event","target","touches","length","disableBodyScroll","targetElement","concat","arr","Array","isArray","i","arr2","from","_toConsumableArray","ontouchstart","targetTouches","clientY","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","stopPropagation","handleScroll","document","passive","undefined","_reserveScrollBarGap","reserveScrollBarGap","scrollBarGap","innerWidth","documentElement","clientWidth","body","style","paddingRight","overflow","setOverflowHidden","console","error","enableBodyScroll","filter","name","props","modelValue","type","Boolean","default","ssr","classes","String","Object","overlayClass","contentClass","lockScroll","hideOverlay","clickToClose","preventClick","attach","validator","val","nodeType","Node","ELEMENT_NODE","transition","overlayTransition","zIndexBase","Number","zIndex","emits","TransitionState","uid","Symbol","root","ref","vfmContent","modalStackIndex","visible","visibility","reactive","modal","overlay","overlayTransitionState","modalTransitionState","isComponentReadyToBeDestroyed","computed","value","calculateZIndex","mounted","getAttachElement","appendChild","index","modalStack","findIndex","vm","splice","push","handleLockScroll","forEach","nextTick","warn","close","$_vm","getAttribute","parentElement","querySelector","watch","flush","onMounted","onBeforeUnmount","remove","emit","$props","$setup","_createBlock","class","_createVNode","onBefore-enter","onAfter-enter","onBefore-leave","onAfter-leave","onClick","_ctx","_renderSlot","body-scroll-lock-ignore","css","insertAt","head","getElementsByTagName","createElement","firstChild","insertBefore","styleSheet","cssText","createTextNode","VueFinalModal"],"mappings":"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"}
